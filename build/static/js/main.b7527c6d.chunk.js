(this["webpackJsonptvmaze-assignment"]=this["webpackJsonptvmaze-assignment"]||[]).push([[0],{119:function(t,e,n){},162:function(t,e){},164:function(t,e){},180:function(t,e,n){"use strict";n.r(e);var a=n(0),c=n.n(a),r=n(11),i=n.n(r),o=(n(119),n(31)),s=n.n(o),j=n(21),u=n(47),l=n(226),d=n(63),b=n.n(d),h="http://api.tvmaze.com",m=function(){var t=Object(u.a)(s.a.mark((function t(e){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",b.a.get("".concat(h,"/search/shows?q=").concat(e)));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),p=function(){var t=Object(u.a)(s.a.mark((function t(e){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",b.a.get("".concat(h,"/shows/").concat(e)));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),f=n(211),O=n(229),x=n(216),v=n(217),g=n(4),y=Object(f.a)({root:{width:"100%"},textField:{width:"100%"}}),w=function(t){var e=t.onInputChange,n=y(),c=Object(a.useState)(""),r=Object(j.a)(c,2),i=r[0],o=r[1];return Object(a.useEffect)((function(){var t=setTimeout((function(){return e(i)}),2e3);return function(){clearTimeout(t)}}),[i,e]),Object(g.jsx)("div",{"data-testid":"search-bar",className:n.root,children:Object(g.jsx)("form",{noValidate:!0,autoComplete:"off",children:Object(g.jsx)(O.a,{id:"outlined-basic",placeholder:"Search...",variant:"outlined",onChange:function(t){return o(t.target.value)},className:n.textField,InputProps:{startAdornment:Object(g.jsx)(x.a,{position:"start",children:Object(g.jsx)(v.a,{color:"primary"})})}})})})},k=n(219),F={palette:{primary:"#39c69c",secondary:"#666666",background:"#ffffff",lightGrey:"#ececec",darkGrey:"#444444"}},C=F,N={palette:{primary:{main:F.palette.primary,contrastText:"#fff"},secondary:{main:F.palette.secondary,contrastText:"#fff"}},overrides:{MuiCheckbox:{root:{"&$checked":{color:"".concat(F.palette.primary," !important"),fill:"".concat(F.palette.primary," !important")}}}}},T=n(218),I={active:{color:"#4e8ffe"},inactive:{color:"#888888"}},B=function(t){var e=t.isFavorite,n=t.setIsFavorite,a=t.hideText;return Object(g.jsxs)(T.a,{onClick:function(){return n(!e)},"data-testid":"favorite-button",style:e?I.active:I.inactive,children:[Object(g.jsx)(k.a,{}),!a&&Object(g.jsx)(g.Fragment,{children:e?"Remove from favorites":"Add to favorites"})]})},S=n(220),D=n(221),z=n(222),E=n(223),A=n(182),P=n(224),G=n(231),J=n(23),L=Object(J.a)(),M=Object(f.a)({root:{width:"100%",display:"flex",marginTop:"0.1rem"},media:{width:"20%"}}),R=function(t){var e=t.show,n=t.isFavorite,a=M();return Object(g.jsxs)(S.a,{className:a.root,children:[Object(g.jsx)(D.a,{className:a.media,component:"img",alt:e.name,image:Object(G.a)(["image","original"],e),title:e.name}),Object(g.jsx)(z.a,{onClick:function(){L.push("/details/".concat(e.id))},children:Object(g.jsx)(E.a,{children:Object(g.jsx)(A.a,{gutterBottom:!0,component:"p",children:e.name})})}),Object(g.jsx)(P.a,{children:Object(g.jsx)(B,{isFavorite:n,setIsFavorite:function(t){n=t},hideText:!0})})]})},q=Object(f.a)({root:{display:"flex",flexDirection:"column",alignItems:"center",width:"30rem"}}),H=function(){var t=q(),e=Object(a.useState)(""),n=Object(j.a)(e,2),c=n[0],r=n[1],i=Object(a.useState)([]),o=Object(j.a)(i,2),s=o[0],u=o[1];return Object(a.useEffect)((function(){c&&m(c).then((function(t){u(t.data)}))}),[c]),Object(g.jsxs)("div",{"data-testid":"search-view",className:t.root,children:[Object(g.jsx)(w,{onInputChange:r}),Object(g.jsx)("div",{"data-testid":"search-results",children:s.map((function(t){var e=t.show;return Object(g.jsx)(R,{show:e,isFavorite:!1},e.id)}))})]})},V=n(230),Y=n(103),$=n(233),K=n(225),Q=function(t){var e=t.onBackButtonClick;return Object(g.jsxs)(T.a,{color:"primary",onClick:e,children:[Object(g.jsx)(K.a,{}),"Back"]})},U=Object(f.a)({root:{width:"100%",display:"flex",marginTop:"0.1rem","@media (max-width: 425px)":{flexDirection:"column"}},media:{width:"40%","@media (max-width: 425px)":{width:"100%",maxHeight:"30rem"}},chip:{marginRight:".3rem"},content:{display:"flex",flexDirection:"column"},favoriteButton:{marginTop:"1rem"}}),W=function(){var t=Object(l.e)().id,e=U(),n=Object(a.useState)(!1),c=Object(j.a)(n,2),r=c[0],i=c[1],o=Object(a.useState)({}),s=Object(j.a)(o,2),u=s[0],d=s[1];Object(a.useEffect)((function(){t&&p(t).then((function(t){d(t.data)}))}),[t]);return Object(g.jsxs)("div",{children:[Object(g.jsx)(Q,{onBackButtonClick:function(){L.push("/search")}}),!Object(V.a)(u)&&Object(g.jsxs)(S.a,{className:e.root,children:[Object(g.jsx)(D.a,{className:e.media,component:"img",alt:u.name,image:Object(G.a)(["image","original"],u),title:u.name}),Object(g.jsx)("div",{className:e.content,children:Object(g.jsxs)(E.a,{children:[Object(g.jsx)(A.a,{variant:"h3",component:"h2",children:u.name}),u.genres.map((function(t,n){return Object(g.jsx)($.a,{label:t,color:"primary",className:e.chip},n)})),Object(g.jsx)("div",{className:e.favoriteButton,children:Object(g.jsx)(B,{isFavorite:r,setIsFavorite:i})}),Object(Y.a)(u.summary)]})})]})]})},X=function(){return Object(g.jsx)("div",{children:"Not Found"})},Z=function(){return Object(g.jsx)(l.c,{history:L,children:Object(g.jsxs)(l.d,{children:[Object(g.jsx)(l.b,{exact:!0,path:"/",children:Object(g.jsx)(l.a,{to:"/search"})}),Object(g.jsx)(l.b,{exact:!0,path:"/search",children:Object(g.jsx)(H,{})}),Object(g.jsx)(l.b,{path:"/details/:id",component:W}),Object(g.jsx)(l.b,{path:"/*",component:X})]})})},_=n(105),tt=n(228),et=n(104),nt=n.n(et),at=n(66),ct=n(227),rt=n(232),it=function(t){return Object(g.jsx)(ct.a,Object(at.a)(Object(at.a)({},t),{},{direction:"up"}))},ot=function(t){var e=t.isOpen,n=t.setIsOpen;return Object(g.jsx)(rt.a,{open:e,TransitionComponent:it,message:"Your internet is kinda slow :(",action:Object(g.jsx)(T.a,{style:{color:C.palette.primary},size:"small",onClick:function(){return n(!1)},children:"Close"})})},st=Object(_.a)(N),jt=new nt.a;function ut(){return(ut=Object(u.a)(s.a.mark((function t(){var e;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return"https://eu.httpbin.org/stream-bytes/500000",5e5,t.next=4,jt.checkDownloadSpeed("https://eu.httpbin.org/stream-bytes/500000",5e5);case 4:return e=t.sent,t.abrupt("return",e);case 6:case"end":return t.stop()}}),t)})))).apply(this,arguments)}var lt=function(){var t=Object(a.useState)(!1),e=Object(j.a)(t,2),n=e[0],c=e[1];return function(){return ut.apply(this,arguments)}().then((function(t){c(parseFloat(t.kbps)<6e3)})),Object(g.jsx)(tt.a,{theme:st,children:Object(g.jsxs)("div",{className:"App",children:[Object(g.jsx)(ot,{isOpen:n,setIsOpen:c}),Object(g.jsx)(Z,{})]})})},dt=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,234)).then((function(e){var n=e.getCLS,a=e.getFID,c=e.getFCP,r=e.getLCP,i=e.getTTFB;n(t),a(t),c(t),r(t),i(t)}))};i.a.render(Object(g.jsx)(c.a.StrictMode,{children:Object(g.jsx)(lt,{})}),document.getElementById("root")),dt()}},[[180,1,2]]]);
//# sourceMappingURL=main.b7527c6d.chunk.js.map